(()=>{"use strict";var e={156:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const i=r(291),s=a(r(398)),c="markdown-mermaid";t.activate=function(e){return e.subscriptions.push(s.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration(c)||e.affectsConfiguration("workbench.colorTheme"))&&s.commands.executeCommand("markdown.preview.refresh")}))),{extendMarkdownIt:e=>((0,i.extendMarkdownItWithMermaid)(e,{languageIds:()=>s.workspace.getConfiguration(c).get("languages",["mermaid"])}),e.use(f),e)}};const u="default",d=["base","forest","dark","default","neutral"];function l(e){return"string"==typeof e&&d.includes(e)?e:u}function f(e){const t=e.renderer.render;return e.renderer.render=function(){const r=l(s.workspace.getConfiguration(c).get("darkModeTheme")),n=l(s.workspace.getConfiguration(c).get("lightModeTheme"));return`<span id="${c}" aria-hidden="true"\n                    data-dark-mode-theme="${r}"\n                    data-light-mode-theme="${n}"></span>\n                ${t.apply(e.renderer,arguments)}`},e}},291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendMarkdownItWithMermaid=void 0;const r="mermaid",n="mermaidContainer",o=":".charCodeAt(0);function a(e){return e.replace(/&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\n+$/,"").trimStart()}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.extendMarkdownItWithMermaid=function(e,t){e.use((e=>{e.block.ruler.before("fence",n,(function(e,t,a,i){let s,c=!1,u=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(o!==e.src.charCodeAt(u))return!1;for(s=u+1;s<=d&&":"[(s-u)%1]===e.src[s];s++);const l=Math.floor((s-u)/1);if(l<3)return!1;s-=(s-u)%1;const f=e.src.slice(u,s),p=e.src.slice(s,d);if(p.trim().split(" ")[0].toLowerCase()!==r)return!1;if(i)return!0;let g=t;for(;!(g++,g>=a||(u=e.bMarks[g]+e.tShift[g],d=e.eMarks[g],u<d&&e.sCount[g]<e.blkIndent));)if(o===e.src.charCodeAt(u)&&!(e.sCount[g]-e.blkIndent>=4)){for(s=u+1;s<=d&&":"[(s-u)%1]===e.src[s];s++);if(!(Math.floor((s-u)/1)<l||(s-=(s-u)%1,s=e.skipSpaces(s),s<d))){c=!0;break}}const h=e.parentType,m=e.lineMax;e.parentType="container",e.lineMax=g;const b=e.push(n,"div",1);return b.markup=f,b.block=!0,b.info=p,b.map=[t,g],b.content=e.getLines(t+1,g,e.blkIndent,!0),e.parentType=h,e.lineMax=m,e.line=g+(c?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules[n]=(e,t)=>{const n=e[t].content;return`<div class="${r}">${a(n)}</div>`}}));const s=e.options.highlight;return e.options.highlight=(e,n,o)=>{const c=new RegExp("\\b("+t.languageIds().map(i).join("|")+")\\b","i");return n&&c.test(n)?`<pre style="all:unset;"><div class="${r}">${a(e)}</div></pre>`:s?.(e,n,o)??e},e}},398:e=>{e.exports=require("vscode")}},t={},r=function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(156),n=exports;for(var o in r)n[o]=r[o];r.__esModule&&Object.defineProperty(n,"__esModule",{value:!0})})();